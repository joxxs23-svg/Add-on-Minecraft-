<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MALVINVALORR</title>
  <style>
    /* ---------- Font & Reset ---------- */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html,body { height: 100%; }
    body {
      font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color: #eaeef2;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
      overflow-x: hidden;
      scroll-behavior: smooth;
      /* background gradasi bergerak (tema Minecraft: biru-hijau) */
      background: linear-gradient(270deg, #0b2a3a, #0f4b4a, #1b6b5a);
      background-size: 600% 600%;
      animation: moveGradient 18s ease infinite;
    }
    @keyframes moveGradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    /* ---------- Loading Screen ---------- */
    #loading {
      position: fixed; inset: 0; display: flex; align-items: center; justify-content: center;
      background: linear-gradient(180deg, rgba(2,6,10,0.95), rgba(5,20,25,0.95));
      z-index: 9999;
      flex-direction: column;
      gap: 18px;
    }
    #loader-circle {
      width: 72px; height: 72px; border-radius: 50%;
      border: 6px solid rgba(255,255,255,0.08);
      border-top-color: #5fe6c5;
      animation: rotate 1s linear infinite;
      box-shadow: 0 6px 18px rgba(0,0,0,0.5), inset 0 -6px 20px rgba(0,0,0,0.3);
    }
    @keyframes rotate { to { transform: rotate(360deg); } }
    #loading h2 { color: #e6fff6; letter-spacing: 2px; font-weight: 600; }

    /* ---------- Main layout ---------- */
    #main {
      display: none;
      max-width: 1100px;
      margin: 28px auto;
      padding: 18px;
    }
    header { text-align: center; margin-bottom: 12px; }
    h1 { font-size: 28px; color: #f1fff9; letter-spacing: 2px; margin-bottom: 6px; }
    .subtitle { color: #cfeee3; font-size: 14px; margin-bottom: 12px; }

    /* ---------- Filter & Search ---------- */
    .controls {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
      margin-bottom: 18px;
    }
    .filter-buttons { display: flex; gap: 8px; flex-wrap: wrap; align-items:center; }
    .filter-buttons button {
      background: rgba(255,255,255,0.06);
      color: #e8fff7;
      border: 1px solid rgba(255,255,255,0.05);
      padding: 8px 12px;
      border-radius: 999px;
      cursor: pointer;
      font-size: 14px;
      transition: .18s;
    }
    .filter-buttons button.active {
      background: linear-gradient(90deg,#00d0a6,#00bcd4);
      color: #012;
      border: none;
      box-shadow: 0 6px 18px rgba(0,0,0,0.35);
      transform: translateY(-2px);
    }
    .search-box { width: 320px; max-width: 90%; }
    .search-box input {
      width: 100%; padding: 10px 12px; border-radius: 12px;
      border: none; outline: none;
      background: rgba(255,255,255,0.03); color: #e8fff7;
      box-shadow: inset 0 -2px 8px rgba(0,0,0,0.25);
    }
    .search-box input::placeholder { color: rgba(232,255,247,0.5); }

    /* ---------- Grid add-on ---------- */
    .addon-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 18px;
      margin-top: 18px;
      padding-bottom: 80px;
    }
    .addon-card {
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(0,0,0,0.12));
      border-radius: 12px;
      padding: 10px;
      box-shadow: 0 6px 18px rgba(2,8,12,0.5);
      overflow: hidden;
      transition: transform .22s ease, box-shadow .22s ease;
      transform-origin: center;
      opacity: 0;
      transform: translateY(26px) scale(.995);
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .addon-card.show {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
    .addon-card:hover { transform: translateY(-6px) scale(1.01); box-shadow: 0 14px 30px rgba(0,0,0,0.55); }
    .addon-card img { width: 100%; height: 140px; object-fit: cover; border-radius: 10px; cursor: pointer; display:block; }

    .addon-info { padding: 6px 4px 12px; display:flex; flex-direction: column; gap:8px; flex:1; }
    .addon-info h2 { font-size: 16px; color: #e9fff8; letter-spacing: .3px; }
    .addon-info p { font-size: 13px; color: #cfeee3; line-height: 1.15; min-height: 36px; }

    .addon-actions { display: flex; gap: 8px; align-items:center; margin-top:auto; }
    .download-btn {
      padding: 8px 12px; border-radius: 10px; background: linear-gradient(90deg,#00d0a6,#00bcd4);
      color: #012; text-decoration: none; font-weight: 600;
      box-shadow: 0 6px 16px rgba(0,0,0,0.35);
      transition: transform .15s ease;
    }
    .download-btn:active { transform: scale(.98); }

    .meta { margin-left: auto; color: #bfeee0; font-size: 13px; }

    /* ---------- Scroll to top button ---------- */
    #scrollTopBtn {
      display: none;
      position: fixed;
      bottom: 24px;
      right: 24px;
      width: 48px; height: 48px;
      border-radius: 50%;
      border: none;
      background: linear-gradient(90deg,#00d0a6,#00bcd4);
      color: #012; font-size: 20px;
      cursor: pointer; z-index: 999;
      box-shadow: 0 10px 22px rgba(0,0,0,0.5);
      transition: transform .15s ease;
    }
    #scrollTopBtn:hover { transform: translateY(-4px); }

    /* ---------- Image modal ---------- */
    #imageModal {
      display: none;
      position: fixed; inset:0; background: rgba(2,6,8,0.85);
      align-items: center; justify-content: center; z-index: 9999;
      padding: 24px;
    }
    #imageModal img { max-width: 920px; max-height: 86vh; border-radius: 12px; box-shadow: 0 20px 40px rgba(0,0,0,0.6); }

    /* ---------- Download notification (spinner + text) ---------- */
    .download-toast {
      position: fixed; right: 24px; bottom: 24px;
      background: rgba(10,14,16,0.9);
      color: #e8fff7;
      padding: 10px 14px;
      border-radius: 999px;
      display: flex; align-items: center; gap: 10px;
      z-index: 10000; box-shadow: 0 10px 30px rgba(0,0,0,0.6);
      animation: toastIn .22s ease;
    }
    .loading-spinner {
      width: 20px; height: 20px; border-radius: 50%;
      border: 3px solid rgba(255,255,255,0.12);
      border-top-color: #5fe6c5;
      animation: spin 1s linear infinite;
      flex-shrink: 0;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    @keyframes toastIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* ---------- Responsive tweaks ---------- */
    @media (max-width:720px) {
      h1 { font-size: 22px; }
      .addon-card img { height: 130px; }
      .addon-info p { font-size: 12px; }
      .filter-buttons button { padding: 8px 10px; font-size: 13px; }
      .search-box { width: 220px; }
    }
  </style>
</head>
<body>

  <!-- Loading -->
  <div id="loading">
    <div id="loader-circle" aria-hidden="true"></div>
    <h2>MALVINVALOR - ADDON</h2>
    <h5>Sabar Loading Lekk..</h5>
  </div>

  <!-- Main content -->
  <div id="main" role="main">
    <header>
      <h1>LANGSUNG DOWNLOAD AJA LEKK..</h1>
      <div class="subtitle">Koleksi shader, add-on, dll #Maaf Jika Masih Ada Kekurangan..</div>
    </header>

    <!-- Controls: filters + search -->
    <div class="controls">
      <div class="filter-buttons" role="tablist" aria-label="Kategori add-on">
        <button class="active" data-filter="all">Semua</button>
        <button data-filter="shader">Shader</button>
        <button data-filter="addon">Add-On</button>
        <button data-filter="texture">Texture</button>
        <button data-filter="ui">UI Pack</button>
      </div>

      <div class="search-box" aria-hidden="false">
        <input id="searchInput" type="search" placeholder="Cari Addon Sesuai Judul..." aria-label="Cari add-on">
      </div>
    </div>

    <!-- Add-on grid -->
    <section class="addon-container" id="addonContainer" aria-live="polite"></section>
  </div>

  <!-- Scroll top -->
  <button id="scrollTopBtn" aria-label="Kembali ke atas">⬆</button>

  <!-- Image modal -->
  <div id="imageModal" onclick="closeImageModal()" role="dialog" aria-hidden="true">
    <img src="" alt="Preview add-on" id="modalImg">
  </div>

  <!-- (download notification will be created dynamically) -->

  <script>
    /* ============================
       DATA: daftar add-on (20 contoh)
       Edit di sini kalau mau tambah/ganti:
       properti: name, desc, img, link, cat
       cat = "shader" | "addon" | "texture" | "ui"
       ============================ */
    const addons = [
      { name: "Shader Realistic V1", desc: "Shader realistis dengan cahaya lembut & bayangan.", img: "img/mc.jpeg", link: "#", cat: "shader" },
      { name: "Mob Expansion", desc: "Tambah 20 mob baru & perilaku unik.", img: "img/mc2.jpeg", link: "#", cat: "addon" },
      { name: "UI Modern Pack", desc: "Antarmuka modern, bersih, dan ringan.", img: "img/mc3.jpeg", link: "#", cat: "ui" },
      { name: "HD Texture Grass", desc: "Rumput HD lebih detail & tajam.", img: "https://i.imgur.com/TxhZbgb.jpeg", link: "#", cat: "texture" },
      { name: "Lighting Shader Pro", desc: "Pencahayaan global & refleksi air.", img: "https://i.imgur.com/3vFMbgB.jpeg", link: "#", cat: "shader" },
      { name: "Coming Soon!", desc: "Coming Soon!", img: "https://i.imgur.com/skhVjx1.png", link: "#", cat: "addon" },
      { name: "Coming Soon!", desc: "Coming Soon!", img: "https://i.imgur.com/skhVjx1.png", link: "#", cat: "ui" },
      { name: "Coming Soon!", desc: "Coming Soon!", img: "https://i.imgur.com/skhVjx1.png", link: "#", cat: "texture" },
      { name: "Coming Soon!", desc: "Coming Soon!", img: "https://i.imgur.com/skhVjx1.png", link: "#", cat: "shader" },
      { name: "Coming Soon!", desc: "Coming Soon!", img: "https://i.imgur.com/skhVjx1.png", link: "#", cat: "addon" },
      { name: "Coming Soon!", desc: "Coming Soon!", img: "https://i.imgur.com/skhVjx1.png", link: "#", cat: "ui" },
      { name: "Coming Soon!", desc: "Coming Soon!", img: "https://i.imgur.com/skhVjx1.png", link: "#", cat: "texture" },
      { name: "Coming Soon!", desc: "Coming Soon!", img: "https://i.imgur.com/skhVjx1.png", link: "#", cat: "shader" },
      { name: "Coming Soon!", desc: "Coming Soon!", img: "https://i.imgur.com/skhVjx1.png", link: "#", cat: "addon" },
      { name: "Coming Soon!", desc: "Coming Soon!", img: "https://i.imgur.com/skhVjx1.png", link: "#", cat: "texture" },
      { name: "Coming Soon!", desc: "Coming Soon!", img: "https://i.imgur.com/skhVjx1.png", link: "#", cat: "ui" },
      { name: "Coming Soon!", desc: "Coming Soon!", img: "https://i.imgur.com/skhVjx1.png", link: "#", cat: "addon" },
      { name: "Coming Soon!", desc: "Coming Soon!", img: "https://i.imgur.com/skhVjx1.png", link: "#", cat: "shader" },
      { name: "Coming Soon!", desc: "Coming Soon!", img: "https://i.imgur.com/skhVjx1.png", link: "#", cat: "addon" },
      { name: "Coming Soon!", desc: "Coming Soon!", img: "https://i.imgur.com/skhVjx1.png", link: "#", cat: "addon" },
    ];

    // element refs
    const container = document.getElementById('addonContainer');
    const searchInput = document.getElementById('searchInput');
    const filterButtons = document.querySelectorAll('.filter-buttons button');

    // render semua add-on
    function renderAddons(list) {
      container.innerHTML = '';
      list.forEach((a, idx) => {
        const card = document.createElement('article');
        card.className = 'addon-card';
        card.setAttribute('data-cat', a.cat || 'addon');
        card.innerHTML = `
          <img src="${a.img}" alt="${escapeHtml(a.name)}" loading="lazy" onclick="openImageModal('${a.img}')">
          <div class="addon-info">
            <h2>${escapeHtml(a.name)}</h2>
            <p>${escapeHtml(a.desc)}</p>
            <div class="addon-actions">
              <a class="download-btn" href="${a.link}" data-link="${a.link}" data-name="${escapeHtml(a.name)}">Download</a>
              <div class="meta">#${idx+1}</div>
            </div>
          </div>
        `;
        container.appendChild(card);
      });
      // jalankan animasi reveal awal
      setTimeout(() => showOnScroll(), 100);
    }

    // sanitize simple (nama & teks)
    function escapeHtml(str) {
      return String(str).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;');
    }

    // open image modal
    function openImageModal(src) {
      const modal = document.getElementById('imageModal');
      const modalImg = document.getElementById('modalImg');
      modalImg.src = src;
      modal.style.display = 'flex';
      modal.setAttribute('aria-hidden','false');
    }
    function closeImageModal() {
      const modal = document.getElementById('imageModal');
      modal.style.display = 'none';
      modal.setAttribute('aria-hidden','true');
      document.getElementById('modalImg').src = '';
    }

    // show on scroll reveal
    function showOnScroll() {
      const cards = document.querySelectorAll('.addon-card');
      const trigger = window.innerHeight * 0.9;
      cards.forEach(c => {
        const top = c.getBoundingClientRect().top;
        if (top < trigger) c.classList.add('show');
      });
    }
    window.addEventListener('scroll', showOnScroll);
    window.addEventListener('resize', showOnScroll);

    // filter by category
    filterButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        filterButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const f = btn.getAttribute('data-filter');
        document.querySelectorAll('.addon-card').forEach(card => {
          const cat = card.getAttribute('data-cat');
          card.style.display = (f === 'all' || f === cat) ? '' : 'none';
        });
      });
    });

    // search realtime (kombinasi dengan filter)
    searchInput.addEventListener('input', () => {
      const q = searchInput.value.trim().toLowerCase();
      document.querySelectorAll('.addon-card').forEach(card => {
        const name = card.querySelector('h2').textContent.toLowerCase();
        // tetap hormati current filter
        const activeFilter = document.querySelector('.filter-buttons button.active').getAttribute('data-filter');
        const cat = card.getAttribute('data-cat');
        const matchesFilter = (activeFilter === 'all' || activeFilter === cat);
        card.style.display = (name.includes(q) && matchesFilter) ? '' : 'none';
      });
    });

    // scroll to top button
    const scrollTopBtn = document.getElementById('scrollTopBtn');
    window.addEventListener('scroll', () => {
      if (document.documentElement.scrollTop > 360) scrollTopBtn.style.display = 'block';
      else scrollTopBtn.style.display = 'none';
    });
    scrollTopBtn.addEventListener('click', () => window.scrollTo({top:0, behavior:'smooth'}));

    // download notification (spinner + teks) & open link
    function showDownloadToast(name) {
      // jika sudah ada, jangan duplikat
      if (document.querySelector('.download-toast')) return;
      const toast = document.createElement('div');
      toast.className = 'download-toast';
      toast.innerHTML = `<div class="loading-spinner" aria-hidden="true"></div><div>Lagi di-download... <strong style="margin-left:8px;">${escapeHtml(name)}</strong></div>`;
      document.body.appendChild(toast);
      // hilang setelah 4.5s
      setTimeout(() => {
        toast.style.opacity = '0';
        setTimeout(()=>{ toast.remove(); }, 500);
      }, 4500);
    }

    // tangani klik download — gunakan event delegation
    document.addEventListener('click', function(e) {
      const el = e.target;
      if (el.classList && el.classList.contains('download-btn')) {
        e.preventDefault();
        const link = el.getAttribute('data-link') || el.href;
        const name = el.getAttribute('data-name') || 'file';
        // tampilkan toast spinner
        showDownloadToast(name);
        // buka link di tab baru (jeda kecil biar toast muncul)
        setTimeout(() => {
          if (link && link !== '#') {
            window.open(link, '_blank');
          } else {
            // kalau link placeholder '#', cukup simpan behavior: bisa ganti tag link nanti
            console.info('Link download placeholder. Ganti property link di array addons.');
          }
        }, 250);
      }
    });

    // inisialisasi: render data dan tampilkan main setelah loading
    renderAddons(addons);

    window.addEventListener('load', () => {
      // hide loading, show main
      setTimeout(() => {
        document.getElementById('loading').style.display = 'none';
        document.getElementById('main').style.display = 'block';
        // initial reveal
        showOnScroll();
      }, 2000);
    });
  </script>
</body>
</html>
